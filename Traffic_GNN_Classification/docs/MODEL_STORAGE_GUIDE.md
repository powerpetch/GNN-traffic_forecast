# üì¶ Model Storage Guide - ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏Å‡πá‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏•

## üìÇ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Folder ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏•

```
D:\user\Data_project\Project_data\Traffic_GNN_Classification\
‚îÇ
‚îú‚îÄ‚îÄ outputs/                                      # ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ best_model.pth                           # ‚ú® ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏´‡∏•‡∏±‡∏Å (Simple GNN)
‚îÇ   ‚îú‚îÄ‚îÄ training_history.pkl                     # ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏£‡∏ô
‚îÇ   ‚îú‚îÄ‚îÄ training_history.png                     # ‡∏Å‡∏£‡∏≤‡∏ü‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏£‡∏ô
‚îÇ   ‚îú‚îÄ‚îÄ confusion_matrices.png                   # Confusion Matrix
‚îÇ   ‚îú‚îÄ‚îÄ evaluation_results.pkl                   # ‡∏ú‡∏• evaluation
‚îÇ   ‚îú‚îÄ‚îÄ processed_data.pkl                       # ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÅ‡∏•‡πâ‡∏ß
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ enhanced_training/                       # ‡πÇ‡∏°‡πÄ‡∏î‡∏• Enhanced GNN
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ enhanced_model.pth                   # ‚ú® ‡πÇ‡∏°‡πÄ‡∏î‡∏• Enhanced
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ best_model.pth                       # ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ training_history.pkl                 # ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏£‡∏ô
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ training_results.png                 # ‡∏Å‡∏£‡∏≤‡∏ü‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test_results.pkl                     # ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ optimized_training/                      # ‡πÇ‡∏°‡πÄ‡∏î‡∏• Optimized
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ optimized_model.pth                  # ‚ú® ‡πÇ‡∏°‡πÄ‡∏î‡∏• Optimized
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ best_model.pth                       # ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ model_config.pkl                     # Configuration
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ quick_training/                          # ‡πÇ‡∏°‡πÄ‡∏î‡∏• Quick Training
‚îÇ       ‚îú‚îÄ‚îÄ quick_model.pth                      # ‚ú® ‡πÇ‡∏°‡πÄ‡∏î‡∏• Quick
‚îÇ       ‚îú‚îÄ‚îÄ model.pth                            # ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏™‡∏≥‡∏£‡∏≠‡∏á
‚îÇ       ‚îî‚îÄ‚îÄ config.pkl                           # Configuration
‚îÇ
‚îî‚îÄ‚îÄ models/                                       # (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÄ‡∏Å‡πà‡∏≤‡∏≠‡∏∑‡πà‡∏ô‡πÜ
```

---

## üìã ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó

### 1. **Simple GNN (Base Model)**
- **‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:** `outputs/best_model.pth`
- **‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°:** SimpleMultiTaskGNN
- **Parameters:** ~5,254 parameters
- **‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:** 
  - Training ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô
  - Testing ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô
  - Baseline comparison
- **‡∏£‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢:** `python train.py`

### 2. **Enhanced GNN**
- **‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:** `outputs/enhanced_training/enhanced_model.pth`
- **‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°:** EnhancedGNNModel (ST-GCN + Attention)
- **Parameters:** ~122,918 parameters
- **‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:**
  - Training ‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á
  - Spatio-temporal analysis
  - Production deployment
- **‡∏£‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢:** `python enhanced_train.py`

### 3. **Optimized GNN**
- **‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:** `outputs/optimized_training/optimized_model.pth`
- **‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°:** Optimized architecture
- **‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:**
  - Hyperparameter tuning
  - Performance optimization
- **‡∏£‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢:** `python enhanced_train.py --optimize`

### 4. **Quick Training GNN**
- **‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:** `outputs/quick_training/quick_model.pth`
- **‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°:** Quick training configuration
- **‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:**
  - Rapid prototyping
  - Quick testing
- **‡∏£‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢:** `python enhanced_train.py --quick`

---

## üîç ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ Dashboard (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
```powershell
streamlit run app/dashboard.py
```
- ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Tab "Training"
- ‡∏°‡∏≠‡∏á‡∏´‡∏≤‡∏™‡πà‡∏ß‡∏ô **"Available Pre-trained Models"**
- ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô folder `outputs/`

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ Python Script
```python
import os
from pathlib import Path

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ
model_paths = [
    "outputs/best_model.pth",
    "outputs/enhanced_training/enhanced_model.pth",
    "outputs/optimized_training/optimized_model.pth",
    "outputs/quick_training/quick_model.pth",
]

for path in model_paths:
    if os.path.exists(path):
        size = os.path.getsize(path) / (1024 * 1024)  # MB
        print(f"‚úÖ Found: {path} ({size:.1f} MB)")
    else:
        print(f"‚ùå Missing: {path}")
```

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡πÉ‡∏ä‡πâ Command Line
```powershell
# Windows PowerShell
Get-ChildItem -Path outputs -Recurse -Filter *.pth | Select-Object FullName, Length
```

---

## üìä ‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

### 1. Training History
- **‡πÑ‡∏ü‡∏•‡πå:** `training_history.pkl`
- **‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:**
  - Train/Validation Loss
  - Accuracy ‡∏ó‡∏±‡πâ‡∏á 2 tasks
  - Learning rates
  - Best epoch

### 2. Evaluation Results
- **‡πÑ‡∏ü‡∏•‡πå:** `evaluation_results.pkl`
- **‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:**
  - Predictions vs Actual
  - Accuracy scores
  - Classification metrics

### 3. Visualization Files
- **Confusion Matrix:** `confusion_matrices.png`
- **Training Curves:** `training_history.png`
- **Test Results:** `training_results.png`

### 4. Processed Data
- **‡πÑ‡∏ü‡∏•‡πå:** `processed_data.pkl`
- **‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:**
  - Features (27 features)
  - Labels (Congestion + Rush Hour)
  - Preprocessed data ready for training

---

## üéØ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÉ‡∏ô Dashboard

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:
1. ‡πÄ‡∏õ‡∏¥‡∏î Dashboard: `streamlit run app/dashboard.py`
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Tab **"Training"**
3. Scroll ‡∏•‡∏á‡πÑ‡∏õ‡∏™‡πà‡∏ß‡∏ô **"Available Pre-trained Models"**
4. ‡∏Ñ‡∏•‡∏¥‡∏Å Expand ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
5. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **"Load Model"**
6. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Sidebar** (‡∏ã‡πâ‡∏≤‡∏¢‡∏°‡∏∑‡∏≠)
7. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏à‡∏≤‡∏Å dropdown **"Select Model"**

### ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:
- ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå `.pth` ‡πÉ‡∏ô folder
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏• ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ó‡∏£‡∏ô
- ‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á accuracy ‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå

---

## ‚öôÔ∏è Configuration Files

### model_config.pkl / config.pkl
‡πÄ‡∏Å‡πá‡∏ö configuration ‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏•:
```python
{
    'architecture': 'EnhancedGNN',
    'hidden_dim': 64,
    'num_features': 27,
    'num_classes_congestion': 4,
    'num_classes_rush_hour': 2,
    'learning_rate': 0.001,
    'batch_size': 32,
    ...
}
```

---

## üõ†Ô∏è ‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÉ‡∏´‡∏°‡πà

### 1. Simple GNN
```powershell
python train.py
# Output: outputs/best_model.pth
```

### 2. Enhanced GNN
```powershell
python enhanced_train.py
# Output: outputs/enhanced_training/enhanced_model.pth
```

### 3. Quick Training
```powershell
python enhanced_train.py --quick
# Output: outputs/quick_training/quick_model.pth
```

### 4. Optimized Training
```powershell
python enhanced_train.py --optimize
# Output: outputs/optimized_training/optimized_model.pth
```

---

## üîÑ Migration Path (‡∏¢‡πâ‡∏≤‡∏¢‡πÇ‡∏°‡πÄ‡∏î‡∏•)

‡∏ñ‡πâ‡∏≤‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô location ‡πÄ‡∏Å‡πà‡∏≤:
```
D:\user\Data_project\Traffic_GNN_Classification\outputs\
```

‡∏¢‡πâ‡∏≤‡∏¢‡∏°‡∏≤‡∏ó‡∏µ‡πà:
```
D:\user\Data_project\Project_data\Traffic_GNN_Classification\outputs\
```

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏¢‡πâ‡∏≤‡∏¢:
```powershell
# Copy ‡∏ó‡∏±‡πâ‡∏á folder
Copy-Item -Path "D:\user\Data_project\Traffic_GNN_Classification\outputs\*" `
          -Destination "D:\user\Data_project\Project_data\Traffic_GNN_Classification\outputs\" `
          -Recurse -Force
```

‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå `.bat` ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ:
```powershell
MOVE_FILES.bat
```

---

## ‚úÖ Checklist ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏•

- [ ] ‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå `.pth` ‡πÉ‡∏ô `outputs/`
- [ ] ‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå `training_history.pkl`
- [ ] ‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå `confusion_matrices.png`
- [ ] Dashboard ‡πÅ‡∏™‡∏î‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÉ‡∏ô "Available Pre-trained Models"
- [ ] ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÉ‡∏ô Sidebar ‡πÑ‡∏î‡πâ
- [ ] ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÅ‡∏™‡∏î‡∏á accuracy ‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå

---

## üÜò Troubleshooting

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÉ‡∏ô Dashboard
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå `.pth` ‡πÉ‡∏ô `outputs/`
2. Restart Dashboard: `Ctrl+C` ‡πÅ‡∏•‡πâ‡∏ß `streamlit run app/dashboard.py`
3. Clear cache: ‡∏Å‡∏î "C" ‡πÉ‡∏ô Dashboard
4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö path ‡πÉ‡∏ô `train.py` ‡πÅ‡∏•‡∏∞ `enhanced_train.py`

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà corrupted
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö architecture ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
3. ‡∏•‡∏≠‡∏á‡πÄ‡∏ó‡∏£‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÉ‡∏´‡∏°‡πà

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Path ‡∏ú‡∏¥‡∏î
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `train.py` line 579
2. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `enhanced_train.py` ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
3. ‡πÉ‡∏ä‡πâ absolute path ‡πÅ‡∏ó‡∏ô relative path

---

**‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î:** 2025-01-06
**‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô:** 1.0
